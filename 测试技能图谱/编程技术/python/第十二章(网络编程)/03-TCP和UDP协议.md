# 03-TCP和UDP协议


**联系和区别：**

   TCP协议和UDP协议是传输层的两种协议。Socket是传输层供给应用层的编程接口，所以Socket编程就分为TCP编程和UDP编程。

   在网络通信中，TCP的方式就类似于拨打电话，使用改种方式进行网络通信时，需要建立专门的虚拟连接，然后进行可靠的数据传输，如果数据发送失败，则客户端会自动重发该数据。而UDP方式就类似于发短信，使用这种方式进行网络通讯时，不需要建立专门的虚拟连接，传输也不是很可靠，如果发送失败则客户端无法获得。

   这两种传输方式都在实际的网络编程中使用，重要的数据一般使用TCP方式进行数据传输，而大量的非核心数据则可以通过UDP方式进行传递，在一些程序中甚至结合使用这两种方式进行数据传递。

   由于TCP需要建立专用的虚拟连接以及确认传输是否正确，所以使用TCP的方式的速度稍慢一些，而且传输时产生的数据量要比UDP稍微大一些。


总结：

- TCP是面向连接的，传输数据安全，稳定，效率相对较低。
- UDP是面向无连接的，传输数据不安全，效率较高。


**套接字编程**


   应用程序通常通过“套接字”（socket）向网络发出请求或者应答网络请求，使用主机之间或者一台计算机上的进程间可以通信。python语言提供了两种访问网络服务的功能。其中低级别的网络服务通过套接字实现，而高级别的网络服务通过SocketServer实现，它提供了服务中心类，可以简化网络服务器的开发。




**socket函数介绍**

    
   在python语言标准库中，通过使用socket模块提供的socket对象，可以在计算机网络中建立可以互相通信的服务器于客户端。在服务器端需要建立一个socket对象，并等待客户端的连接。客户端使用socket对象于与服务器进行连接，一旦连接成功，客户端和服务器端就可以开始通信了。

在python中，通常用一个socket表示“打开了一个网络连接”，语法格式如下：

```
socket.socket([family[,type[,proto]]])
```

其中参数family：套接字家族可以使用AF_UNIX或者AF_INET ; type：套接字类型可以根据面向连接的还是非连接分为SOCK_STREAM或SOCK_DGRAM;  protocol:一般不填默认为0。

   socket主要分面向连接的socket和无连接的socket。面向连接的socket使用的主要是传输控制协议，也就是常说的TCP，TCP的socket名称是SOCK_STREAM。创建套接字TCP/IP套接字，可以调用socket.socket().示例代码如下：

```
tcp_socket = socket.socket(AF_INET,SOCK_STREAM)
```
    
   无连接socket的主要协议是用户数据报协议，也就是常说的UDP，UDP Socket的名字是SOCK_DGRAM。创建套接字UDP/IP套接字，可以调用socket.socket().示例代码如下：

```
udp_socket = socket.socket(AF_INET,SOCK_DGRAM)
```

