# 03-空间复杂度


一个程序的空间复杂度是指运行完成一个程序所需内存的大小。利用程序的空间复杂度，可以对程序的运行所需要的内存有个预先估计。一个程序执行时除了需要存储空间和存储本身所使用的指令、常数、变量和输入数据外，还需要一些对数据进行操作的工作单元和存储一些为现实计算所需信息的辅助空间。程序执行时所需存储空间包括以下两部分。


（1）固定部分。这部分空间的大小与输入/输出的数据的个数多少、数值无关。主要包括指令空间（即代码空间）、数据空间（常量、简单变量）等所占的空间。这部分属于静态空间。
（2）可变空间，这部分空间的主要包括动态分配的空间，以及递归栈所需的空间等。这部分的空间大小与算法有关。



例如：要判断某年是不是闰年，你可能会花一点心思来写一个算法，每给一个年份，就可以通过这个算法计算得到是否闰年的结果。

另外一种方法是，事先建立一个有2050个元素的数组，然后把所有的年份按下标的数字对应，如果是闰年，则此数组元素的值是1，如果不是元素的值则为0.这样，所谓的判断某一年是否为闰年就变成了查找这个数组某一个元素的值的问题。


第一种方法相比起第二种来说很明显非常节省空间，但每一次查询都要经过一系列但计算才能知道是否为闰年。第二种方法虽然需要子啊内存里存储2050个元素但数组，但是每次查询只需要一次索引判断即可。这就是通过一笔空间上的开销来换取计算时间开销的小技巧。到底哪一种方法好？其实还是要看你用在什么地方。

一个算法所需的存储空间用f(n)表示。S(n)=O(f(n)) 其中n为问题的规模，S(n)表示空间复杂度。




案例：空间复杂度

```
def reserse(a,b):
    n  = len(a)
    for i in range(n):
        b[i] = a[n-1-i]
```

上方的代码中，当程序调用reserse()方法时，要分配的内存空间包括：引用a、引用b、局部变量n、局部变量i。因此f(n)=4, 4为常量。所以该算法的空间复杂度 S(n)=O(1)

通常，我们都是用“时间复杂度”来指运行时间的需求，是用“空间复杂度”指空间需求。当直接要让我们求“复杂度”时，通常指的是时间复杂度。显然对时间复杂度的追求更是属于算法的潮流。