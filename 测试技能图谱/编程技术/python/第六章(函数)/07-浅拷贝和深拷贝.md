# 07-浅拷贝和深拷贝

为了更深入的了解参数传递的底层原理，我们需要学习一下“浅拷贝和深拷贝”。我们可以使用内置函数：copy(浅拷贝)、deepcopy（深拷贝）。


- 浅拷贝：不拷贝子对象的内容，只是拷贝对象的引用
- 深拷贝：会连子对象的内存也全部拷贝一份，对子对象对修改不会影响对象


案例：测试浅拷贝

```
# 测试浅拷贝
import copy


def test_copy():
    """测试浅拷贝"""
    a = [10, 20, [5, 6]]
    b = copy.copy(a)
    print("a", a)
    print("b", b)
    b.append(30)
    b[2].append(7)
    print("浅拷贝后......")
    print("a", a)
    print("b", b)


test_copy()

执行结果如下：
a [10, 20, [5, 6]]
b [10, 20, [5, 6]]
浅拷贝后......
a [10, 20, [5, 6, 7]]
b [10, 20, [5, 6, 7], 30]
```


案例：测试深拷贝

```
def test_deep_copy():
    """测试深拷贝"""
    a = [10, 20, [5, 6]]
    b = copy.deepcopy(a)
    print("a", a)
    print("b", b)
    b.append(30)
    b[2].append(7)
    print("深拷贝后......")
    print("a", a)
    print("b", b)
test_deep_copy()

执行结果如下：
a [10, 20, [5, 6]]
b [10, 20, [5, 6]]
深拷贝后......
a [10, 20, [5, 6]]
b [10, 20, [5, 6, 7], 30]
```


## 传递不可变对象包含的子对象是可变的情况

```
# 测试函数传递不可变对象包含子对象是可变的情况
# 传递参数不可变对象时。不可变对象里包含子对象是可变的。则方法内修改了这个可变对象，源对象也发生了变化。

a = (10, 20, [5, 6])
print("a:", id(a))


def test01(m):
    print("m:", id(m))
    m[2][0] = 888
    print(m)
    print("m:", id(m))


test01(a)
print(a)

执行结果如下：
a: 4348542320
m: 4348542320
(10, 20, [888, 6])
m: 4348542320
(10, 20, [888, 6])
```